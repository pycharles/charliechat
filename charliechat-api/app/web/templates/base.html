<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Charlie Chat{% endblock %}</title>
    <meta name="description" content="{% block description %}Beyond the Paper: A Conversation with My Career{% endblock %}">
    <link rel="icon" href="/static/favicon.svg" type="image/svg+xml">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/main.css?v=20250918-02">
    {% block extra_head %}{% endblock %}
  </head>
  <body>
    <main class="page">
      <header class="navbar">
        <div class="navbar-top">
          <div class="navbar-brand">
            <a href="/" class="avatar">CO</a>
            <div class="brand-text">
              <h1 class="brand">Charlie Chat</h1>
              <p class="tagline">Beyond the Paper: A Conversation with My Career</p>
            </div>
          </div>
          
          <div class="navbar-actions">
            <!-- Social Links -->
            <div class="social-links">
              <a class="social-link" href="https://www.linkedin.com/in/charlesob/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn: charlesob" title="LinkedIn: charlesob">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path fill="currentColor" d="M20.447 20.452h-3.554v-5.569c0-1.328-.025-3.036-1.85-3.036-1.853 0-2.136 1.447-2.136 2.944v5.661H9.353V9h3.414v1.561h.049c.476-.9 1.637-1.85 3.369-1.85 3.602 0 4.268 2.37 4.268 5.455v6.286zM5.337 7.433a2.062 2.062 0 1 1 0-4.124 2.062 2.062 0 0 1 0 4.124zM6.997 20.452H3.671V9h3.326v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.73v20.541C0 23.226.792 24 1.771 24h20.451C23.2 24 24 23.226 24 22.271V1.73C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
              </a>
              <a class="social-link" href="https://github.com/pycharles/" target="_blank" rel="noopener noreferrer" aria-label="GitHub: pycharles" title="GitHub: pycharles">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
        
        <nav class="navbar-nav">
          <a href="/" class="nav-link{% if request.url.path == '/' %} active{% endif %}" data-tab="chat">Chat</a>
          <a href="#" class="nav-link" data-tab="bio">Bio</a>
          <a href="/blog" class="nav-link{% if request.url.path.startswith('/blog') %} active{% endif %}">Dev Journal</a>
          <a href="#" class="nav-link" data-tab="contact">Contact</a>
        </nav>
      </header>

      <!-- Main Content Area -->
      <main class="main-content">
        {% block content %}{% endblock %}
      </main>
    </main>

    <!-- Footer -->
    <footer class="text-center text-gray-500 text-sm py-4">
      <p>¬© 2025 Charles O'Brien</p>
      <nav class="mt-2">
        <a href="/privacy" class="mx-3 hover:text-gray-700">Privacy Policy</a>
        <a href="/terms" class="mx-3 hover:text-gray-700">Terms of Service</a>
        <a href="/sitemap" class="mx-3 hover:text-gray-700">Sitemap</a>
      </nav>
    </footer>

    <!-- Bio Modal -->
    <div class="bio-modal" id="bio-modal">
      <div class="bio-modal-overlay" id="bio-modal-overlay"></div>
      <div class="bio-modal-content">
        <div class="bio-modal-header">
          <h3>About Charles O'Brien</h3>
          <button class="bio-modal-close" id="bio-modal-close" aria-label="Close">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
              <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
            </svg>
          </button>
        </div>
        <div class="bio-content">
          <p>Charles O'Brien is a technology leader who combines executive vision with deep technical expertise. He has directed security, infrastructure, and business systems teams, guiding companies through cloud transformation, M&A integration, and PCI compliance while working effectively within a variety of regulatory frameworks.</p>
          
          <p>He is skilled at identifying business needs and leading initiatives with clear roadmaps, delivery milestones, and measurable outcomes. Charles works closely with cross-functional teams to align technology with business goals and deliver results that matter.</p>

          <p>While he stays hands-on with cloud architecture, automation, and AI using AWS and Kubernetes, Charles is most proud of building strong, engaged teams. His leadership style emphasizes clarity, empowerment, and collaboration so that people do their best work. Outside of work, he enjoys outdoor activities and exploring new technologies.</p>
        </div>
      </div>
    </div>

    <!-- Feedback Modal -->
    <div class="feedback-modal" id="feedback-modal">
      <div class="feedback-modal-overlay" id="feedback-modal-overlay"></div>
      <div class="feedback-modal-content">
        <div class="feedback-modal-header">
          <h3>Quick Feedback</h3>
          <button class="feedback-modal-close" id="feedback-modal-close" aria-label="Close">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
              <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
            </svg>
          </button>
        </div>
        <form class="feedback-form" id="feedback-form">
          <div class="feedback-form-group">
            <label for="feedback-text">Your feedback (max 300 characters):</label>
            <textarea 
              id="feedback-text" 
              name="feedback" 
              placeholder="Share your thoughts about Charlie Chat..."
              maxlength="300"
              rows="4"
              required
            ></textarea>
            <div class="feedback-char-count">
              <span id="char-count">0</span>/300
            </div>
          </div>
          
          <div class="feedback-form-group">
            <label for="feedback-name">Your name (optional):</label>
            <input 
              type="text" 
              id="feedback-name" 
              name="name" 
              placeholder="Enter your name..."
              maxlength="100"
            >
          </div>
          
          <div class="feedback-form-group">
            <label>How do you feel about your experience? <span class="required">*</span></label>
            <div class="feedback-sentiment-options">
              <label class="sentiment-option">
                <input type="radio" name="experience" value="positive" required>
                <span class="sentiment-emoji">üëç</span>
                <span class="sentiment-label">Positive</span>
              </label>
              <label class="sentiment-option">
                <input type="radio" name="experience" value="neutral" required>
                <span class="sentiment-emoji">üòê</span>
                <span class="sentiment-label">Neutral</span>
              </label>
              <label class="sentiment-option">
                <input type="radio" name="experience" value="negative" required>
                <span class="sentiment-emoji">üëé</span>
                <span class="sentiment-label">Negative</span>
              </label>
            </div>
          </div>
          
          <div class="feedback-form-actions">
            <button type="button" class="feedback-cancel-btn" id="feedback-cancel">Cancel</button>
            <button type="submit" class="feedback-submit-btn" id="feedback-submit" disabled>Submit</button>
          </div>
        </form>
        
        <div class="feedback-success" id="feedback-success" style="display: none;">
          <div class="feedback-success-icon">‚úÖ</div>
          <h3>Thanks for your feedback!</h3>
          <p>Your input helps us improve Charlie Chat.</p>
        </div>
      </div>
    </div>

    <script src="/static/js/base.js"></script>
    {% block extra_scripts %}{% endblock %}
    
    <!-- PostHog Analytics -->
    {% if posthog_api_key %}
    <script>
      window.POSTHOG_API_KEY = "{{ posthog_api_key }}";
    </script>
    <script src="/static/js/posthog.js" defer></script>
    {% endif %}
  </body>
</html>
